<script>
    var check = function() {
        const password = document.getElementsByClassName('password');
        const confirm = document.getElementsByClassName('confirm_password');
  if (password.value === confirm.value) {
    document.getElementById('message').style.color = 'green';
    document.getElementById('message').innerHTML = 'Password matching';
    document.getElementById('regisBtn').disabled = false;
  } else {
    document.getElementById('message').style.color = 'red';
    document.getElementById('message').innerHTML = 'Password not matching';
    document.getElementById('regisBtn').disabled = true;
  }
}
</script>


<div class="mybody">
    <!-- Main Nav Show when Middle++ -->
    <div>
        <nav class="navbar navbar-dark fixed-top showlg">
            <a class="navbar-brand" href="/product/all">FurFriends</a>
            <span class="navbar-text">

                <% if(!currentUser) { %>
                    <button type="button" class="btn" data-toggle="modal" data-target="#loginModal">
                        Login
                    </button>

                    <% } else { %>

                        <% if(currentUser.isAdmin === true) { %>

                            <button type="button" class="btn">
                                <a href="/admin/product/all">Admin Ver.</a></button>
                            
                            <% } else { } %>    

                        <button type="button" class="btn">
                            <a href="/logout">Logout</a>
                        </button>
                        <button type="button" class="btn">
                            <a href="/user/profile/<%= currentUser._id%>">Profile</a>
            
                        </button>
                        <a href="/user/<%= currentUser._id%>/cart"><img width="25px" src="https://res.cloudinary.com/furfriends-project/image/upload/v1610114175/cart_y1xnpm.png"></a>
                    <% } %>
                            
            </span>
        </nav>
        <!-- side nav -->
        <ul class="text-center shrink">
            <li><a class="active">All Products</a></li>
            <li><a href="#">Food & Treats</a></li>
            <li><a href="#">Toys & Dolls</a></li>
            <li><a href="#">Grooming Products</a></li>
            <li><a href="#">Beds & Crates</a></li>
            <li><a href="#">Collars & Clothes</a></li>
            <li><a href="#">Vitamins & Supplements</a></li>
        </ul>
    </div>

    <!-- Toggler Nav Show when small only!! -->
    <!-- <nav class="navbar navbar-expand-sm navbar-dark fixed-top showsm p-0">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03"
        aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#">FurFriends</a>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav mr-auto">
          <li><a class="active" href="#">New Arrival!</a></li>
          <li><a href="#">Dog Food & Treats</a></li>
          <li><a href="#">Toys & Dolls</a></li>
          <li><a href="#">Grooming Products</a></li>
          <li><a href="#">Beds & Crates</a></li>
          <li><a href="#">Collars & Harnesses</a></li>
          <li><a href="#">Clothes</a></li>
          <li><a href="#">Vitamins & Supplements</a></li>
          <li><a href="#">All Products</a></li>
        </ul> -->
    <!-- <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form> -->
</div>
</nav>

</div>

<!-- LOG IN MODAL -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Login</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-center">
                <form action="/login" method="POST">
                    <label class="" for="username">UserName</label><br>
                    <input type="text" id="username" name="username" placeholder="Username" required>
                    <br>
                    <label for="password">Password</label><br>
                    <input type="password" id="password" name="password" placeholder="Password" required>
                    <br>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>

                <span class="checkbox"><input type="checkbox"> Remember Me</span>
                <br>
                <a href="#">Forget Password?</a>
            </div>
            <div class="modal-footer">
                <p>New User ?<a data-toggle="modal" data-target="#regisModal"> Click to Register</a></p>
            </div>
        </div>
    </div>
</div>

<!-- SIGN UP MODAL -->
<div class="modal fade" id="regisModal" tabindex="-1" aria-labelledby=regisModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="regisModalLabel">Register</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-center">
                <div class="text-left">
                    <form action="/regis" method="POST" id="regisForm" name="regisForm">
                        <label class="" for="username">UserName</label>
                        <input type="text" id="username" name="username" placeholder="Username" required>

                        <label for="email">E-mail</label>
                        <input type="email" id="email" name="email" placeholder="E-Mail" required>

                        <label for="password">Password <span>(8 characters minimum)</span></label>
                        <input type="password" class="password" id="password" name="password" placeholder="Password" minlength="8" required>

                        <label for="confirm_password">Confirm your Password</label>
                        <input type="password" class="confirm_password" id="confirm_password" placeholder="Password" required onkeyup='check();'>
                        <span id="message"></span>
                        <br>
        
                        <button id="regisBtn" type="submit" class="btn btn-primary" disabled >Register</button>

                    </form>
                </div>
                <br>
                <span>By creating an account you agree to our .<a href="#">Terms & Privacy</a></span>
            </div>
        </div>
    </div>
</div>

<style>
    /* RESPONSIVE RESPONSIVE RESPONSIVE RESPONSIVE RESPONSIVE RESPONSIVE */
    @media only screen and (max-width: 576px) {

        .shrink,
        .showlg {
            display: none !important;
        }

        .mycontent,
        .mybody {
            margin: 0px !important;
        }

        li {
            font-size: 0.9rem !important;
        }

        ul {
            width: 60% !important;
        }
    }

    @media only screen and (min-width: 577px) {
        .showsm {
            display: none !important;
        }

        li a {
            font-size: 0.9rem;
        }

    }

    @media only screen and (min-width: 768px) {
        .showsm {
            display: none !important;
        }

        .showlg {
            font-size: 1rem !important;
        }
    }


    /* BODY BODY BODY BODY BODY BODY BODY BODY BODY*/
    .mybody {
        background-color: white;
        line-height: 1.2;
        margin-left: 10%;
        margin-right: 10%;
        padding-top: 55px;
    }

    .mycontent {
        margin-left: 30%;
        margin-right: 10%;
        padding: 2px 0px;
        background-color: white;
        height: 100%;
    }

    .row {
        padding: 0px 10px;
        height: fit-content;
    }

    /* NAVBAR NAVBAR NAVBAR NAVBAR NAVBAR NAVBAR NAVBAR*/
    .navbar {
        color: white;
        background-color: #e1b183;
        padding: 0 11% !important;
        height: 55px;
    }

    .navbar-brand {
        font-family: "SchoolBell", cursive !important;
        letter-spacing: 1px;
        font-size: 1.5rem !important;
    }

    .navbar-text button {
        color: white;
    }

    .navbar-text button:hover {
        color: rgb(93, 93, 93);
    }

    /* SIDE NAV SIDE NAV SIDE NAV SIDE NAV SIDE NAV */
    ul {
        list-style-type: none;
        padding: 2px 3px;
        width: 20%;
        background-color: #fff4ea;
        position: fixed;
        height: 100%;
        overflow: auto;
    }

    li a {
        text-align: center;
        display: block;
        color: rgb(58, 58, 58);
        padding: 15px 16px;
        text-decoration: none;
        min-height: 50px;
        border-bottom: white solid 2px;
        margin: auto !important;
    }

    li a.active {
        background-color: #efbc6b;
        color: white;
    }

    li a:hover:not(.active) {
        background-color: rgb(122, 122, 122);
        color: white;
    }

    /* Login MODAL MODAL MODAL MODAL MODAL MODAL MODAL MODAL */
    .modal {
        padding: 0px !important;
    }

    .modal-content {
        border-radius: 20px !important;
        border: none !important;
    }

    .modal-body {
        line-height: 2;
    }

    .modal-body label {
        margin: 5px 0 0 0;
        height: 32px;
        font-weight: 600;
        color: #ca915c;
        font-size: 1.2rem;
    }

    .modal-body button {
        margin-top: 10px;
    }

    .modal-body a {
        font-size: 0.8rem;
    }

    .modal-body input:not(.checkbox) {
        border: rgb(175, 175, 175) solid 1px;
        width: 50%;
        border-radius: 3px;
        font-size: 0.9rem;
        color: rgb(156, 156, 156);
    }

    .modal-body input:hover {
        border: rgb(175, 175, 175) solid 2px;
        color: rgb(27, 27, 27);
    }

    .modal-footer {
        text-align: center;
        font-size: 0.8rem;
        color: grey;
        display: inline !important;
    }

    .modal-title {
        color: #ca915c;
        font-weight: 700;
        display: inline !important;
    }

    .modal-footer a {
        color: #007bff !important;
    }

    /* Sign Up MODAL MODAL MODAL MODAL MODAL MODAL MODAL MODAL */
    #regisModal .modal-body span {
        font-size: 0.8rem;
        color: grey;
    }

    #regisModal .modal-body {
        padding: 15px 25px;
        width: 75%;
        margin: auto;
    }


    #regisModal .modal-body input:not(.checkbox) {
        width: 100%;
    }

    a {
        cursor: pointer;
    }


    input[type=checkbox] {
        width: auto !important;
    }
</style>